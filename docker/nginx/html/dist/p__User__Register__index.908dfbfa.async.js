"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[470],{94149:function(b,c,e){e.d(c,{Z:function(){return j}});var n=e(1413),a=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},_=E,P=e(42135),f=function(i,D){return a.createElement(P.Z,(0,n.Z)((0,n.Z)({},i),{},{ref:D,icon:_}))};f.displayName="LockOutlined";var j=a.forwardRef(f)},24454:function(b,c,e){e.d(c,{Z:function(){return j}});var n=e(1413),a=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},_=E,P=e(42135),f=function(i,D){return a.createElement(P.Z,(0,n.Z)((0,n.Z)({},i),{},{ref:D,icon:_}))};f.displayName="MobileOutlined";var j=a.forwardRef(f)},16434:function(b,c,e){var n=e(1413),a=e(74165),E=e(15861),_=e(91),P=e(97685),f=e(80737),j=e(30124),y=e(71577),i=e(67294),D=e(83607),C=e(85893),B=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],l=i.forwardRef(function(u,d){var x=f.Z.useFormInstance(),p=(0,i.useState)(u.countDown||60),W=(0,P.Z)(p,2),U=W[0],M=W[1],K=(0,i.useState)(!1),t=(0,P.Z)(K,2),S=t[0],v=t[1],V=(0,i.useState)(),N=(0,P.Z)(V,2),L=N[0],F=N[1],z=u.rules,w=u.name,R=u.phoneName,h=u.fieldProps,I=u.captchaTextRender,H=I===void 0?function(s,o){return s?"".concat(o," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:I,A=u.captchaProps,G=(0,_.Z)(u,B),O=function(){var s=(0,E.Z)((0,a.Z)().mark(function o(g){return(0,a.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,F(!0),m.next=4,G.onGetCaptcha(g);case 4:F(!1),v(!0),m.next=13;break;case 8:m.prev=8,m.t0=m.catch(0),v(!1),F(!1),console.log(m.t0);case 13:case"end":return m.stop()}},o,null,[[0,8]])}));return function(g){return s.apply(this,arguments)}}();return(0,i.useImperativeHandle)(d,function(){return{startTiming:function(){return v(!0)},endTiming:function(){return v(!1)}}}),(0,i.useEffect)(function(){var s=0,o=u.countDown;return S&&(s=window.setInterval(function(){M(function(g){return g<=1?(v(!1),clearInterval(s),o||60):g-1})},1e3)),function(){return clearInterval(s)}},[S]),(0,C.jsxs)("div",{style:(0,n.Z)((0,n.Z)({},h==null?void 0:h.style),{},{display:"flex",alignItems:"center"}),ref:d,children:[(0,C.jsx)(j.Z,(0,n.Z)((0,n.Z)({},h),{},{style:{flex:1,transition:"width .3s",marginRight:8}})),(0,C.jsx)(y.Z,(0,n.Z)((0,n.Z)({style:{display:"block"},disabled:S,loading:L},A),{},{onClick:(0,E.Z)((0,a.Z)().mark(function s(){var o;return(0,a.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!R){r.next=9;break}return r.next=4,x.validateFields([R].flat(1));case 4:return o=x.getFieldValue([R].flat(1)),r.next=7,O(o);case 7:r.next=11;break;case 9:return r.next=11,O("");case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.log(r.t0);case 16:case"end":return r.stop()}},s,null,[[0,13]])})),children:H(S,U)}))]})}),T=(0,D.G)(l);c.Z=T},5966:function(b,c,e){var n=e(1413),a=e(91),E=e(67294),_=e(69595),P=e(85893),f=["fieldProps","proFieldProps"],j=["fieldProps","proFieldProps"],y="text",i=function(l){var T=l.fieldProps,u=l.proFieldProps,d=(0,a.Z)(l,f);return(0,P.jsx)(_.Z,(0,n.Z)({valueType:y,fieldProps:T,filedConfig:{valueType:y},proFieldProps:u},d))},D=function(l){var T=l.fieldProps,u=l.proFieldProps,d=(0,a.Z)(l,j);return(0,P.jsx)(_.Z,(0,n.Z)({valueType:"password",fieldProps:T,proFieldProps:u,filedConfig:{valueType:y}},d))},C=i;C.Password=D,C.displayName="ProFormComponent",c.Z=C},68262:function(b,c,e){e.d(c,{U:function(){return u}});var n=e(1413),a=e(91),E=e(89451),_=e(76519),P=e(94184),f=e.n(P),j=e(67294),y=e(34994),i=e(4942),D=e(98082),C=function(x){var p;return p={},(0,i.Z)(p,x.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:x.colorTextSecondary,fontSize:x.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),(0,i.Z)(p,"@media (min-width: @screen-md-min)",(0,i.Z)({},"".concat(x.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"})),p};function B(d){return(0,D.Xj)("LoginForm",function(x){var p=(0,n.Z)((0,n.Z)({},x),{},{componentCls:".".concat(d)});return[C(p)]})}var l=e(85893),T=["logo","message","contentStyle","title","subTitle","actions","children"];function u(d){var x,p=d.logo,W=d.message,U=d.contentStyle,M=d.title,K=d.subTitle,t=d.actions,S=d.children,v=(0,a.Z)(d,T),V=(0,E.YB)(),N=v.submitter===!1?!1:(0,n.Z)((0,n.Z)({searchConfig:{submitText:V.getMessage("loginForm.submitText","\u767B\u5F55")}},v.submitter),{},{submitButtonProps:(0,n.Z)({size:"large",style:{width:"100%"}},(x=v.submitter)===null||x===void 0?void 0:x.submitButtonProps),render:function(A,G){var O,s=G.pop();if(typeof(v==null||(O=v.submitter)===null||O===void 0?void 0:O.render)=="function"){var o,g;return v==null||(o=v.submitter)===null||o===void 0||(g=o.render)===null||g===void 0?void 0:g.call(o,A,G)}return s}}),L=(0,j.useContext)(_.ZP.ConfigContext),F=L.getPrefixCls("pro-form-login"),z=B(F),w=z.wrapSSR,R=z.hashId,h=function(A){return"".concat(F,"-").concat(A," ").concat(R)},I=(0,j.useMemo)(function(){return p?typeof p=="string"?(0,l.jsx)("img",{src:p}):p:null},[p]);return w((0,l.jsxs)("div",{className:f()(h("container"),R),children:[(0,l.jsxs)("div",{className:"".concat(h("top")," ").concat(R).trim(),children:[M||I?(0,l.jsxs)("div",{className:"".concat(h("header")),children:[I?(0,l.jsx)("span",{className:h("logo"),children:I}):null,M?(0,l.jsx)("span",{className:h("title"),children:M}):null]}):null,K?(0,l.jsx)("div",{className:h("desc"),children:K}):null]}),(0,l.jsxs)("div",{className:h("main"),style:(0,n.Z)({width:328},U),children:[(0,l.jsxs)(y.A,(0,n.Z)((0,n.Z)({isKeyPressSubmit:!0},v),{},{submitter:N,children:[W,S]})),t?(0,l.jsx)("div",{className:h("main-other"),children:t}):null]})]}))}},48028:function(b,c,e){e.r(c),e.d(c,{default:function(){return V}});var n=e(15009),a=e.n(n),E=e(97857),_=e.n(E),P=e(99289),f=e.n(P),j=e(5574),y=e.n(j),i=e(66116),D=e(99058),C=e(87547),B=e(94149),l=e(24454),T=e(68262),u=e(5966),d=e(16434),x=e(14670),p=e(12461),W=e(66715),U=e(67294),M={container:"container___bPfJ7",lang:"lang___VODXT",content:"content___D5ZsQ",icon:"icon___TRw12"},K=e(14430),t=e(85893),S=function(L){var F=L.content;return(0,t.jsx)(x.Z,{style:{marginBottom:24},message:F,type:"error",showIcon:!0})},v=function(){var L=(0,U.useState)({}),F=y()(L,1),z=F[0],w=(0,U.useState)("account"),R=y()(w,2),h=R[0],I=R[1],H=function(){var O=f()(a()().mark(function s(o){var g,r;return a()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.prev=0,Z.next=3,(0,K.T4)(_()({},o));case 3:if(g=Z.sent,!g.data){Z.next=6;break}return Z.abrupt("return",(0,t.jsx)(S,{content:"\u6CE8\u518C\u6210\u529F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55\uFF01"}));case 6:return Z.abrupt("return",(0,t.jsx)(S,{content:"\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u6CE8\u518C\uFF01"}));case 9:return Z.prev=9,Z.t0=Z.catch(0),r="\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u6CE8\u518C\u6216\u66F4\u6362\u8D26\u53F7\u6216\u5BC6\u7801",p.ZP.error(r),Z.abrupt("return",(0,t.jsx)(S,{content:r}));case 14:case"end":return Z.stop()}},s,null,[[0,9]])}));return function(o){return O.apply(this,arguments)}}(),A=z.status,G=z.type;return(0,t.jsxs)("div",{className:M.container,children:[(0,t.jsx)("div",{className:M.content,children:(0,t.jsxs)(T.U,{logo:(0,t.jsx)("img",{alt:"logo",src:"/logo.png"}),title:"\u514D\u8D39API",subTitle:"\u514D\u8D39 API \u5F00\u653E\u5E73\u53F0",initialValues:{autoLogin:!0},onFinish:function(){var O=f()(a()().mark(function s(o){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,H(o);case 2:case"end":return r.stop()}},s)}));return function(s){return O.apply(this,arguments)}}(),children:[(0,t.jsx)(W.Z,{activeKey:h,onChange:I,centered:!0,items:[{key:"account",label:"\u8D26\u6237\u5BC6\u7801\u6CE8\u518C"},{key:"mobile",label:"\u624B\u673A\u53F7\u6CE8\u518C"}]}),h==="account"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{name:"userAccount",fieldProps:{size:"large",prefix:(0,t.jsx)(C.Z,{className:M.prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u7528\u6237\u540D\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,t.jsx)(u.Z.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,t.jsx)(B.Z,{className:M.prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,t.jsx)(u.Z.Password,{name:"checkPassword",fieldProps:{size:"large",prefix:(0,t.jsx)(B.Z,{className:M.prefixIcon})},placeholder:"\u8BF7\u518D\u6B21\u786E\u8BA4\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"}]})]}),A==="error"&&G==="mobile"&&(0,t.jsx)(S,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),h==="mobile"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(l.Z,{className:M.prefixIcon})},name:"mobile",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01",rules:[{required:!0,message:"\u624B\u673A\u53F7\u662F\u5FC5\u586B\u9879\uFF01"},{pattern:/^1\d{10}$/,message:"\u4E0D\u5408\u6CD5\u7684\u624B\u673A\u53F7\uFF01"}]}),(0,t.jsx)(d.Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(B.Z,{className:M.prefixIcon})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01",captchaTextRender:function(s,o){return s?"".concat(o," ","\u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"captcha",rules:[{required:!0,message:"\u9A8C\u8BC1\u7801\u662F\u5FC5\u586B\u9879\uFF01"}],onGetCaptcha:function(){var O=f()(a()().mark(function s(o){var g;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,D.m)({phone:o});case 2:if(g=m.sent,!g.data){m.next=5;break}return m.abrupt("return");case 5:p.ZP.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return m.stop()}},s)}));return function(s){return O.apply(this,arguments)}}()})]})]})}),(0,t.jsx)(i.Z,{})]})},V=v},99058:function(b,c,e){e.d(c,{m:function(){return y}});var n=e(15009),a=e.n(n),E=e(97857),_=e.n(E),P=e(99289),f=e.n(P),j=e(80854);function y(D,C){return i.apply(this,arguments)}function i(){return i=f()(a()().mark(function D(C,B){return a()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",(0,j.request)("/api/login/captcha",_()({method:"GET",params:_()({},C)},B||{})));case 1:case"end":return T.stop()}},D)})),i.apply(this,arguments)}},43146:function(){},29913:function(b,c,e){var n=e(43146)},68018:function(b,c,e){var n=e(43146),a=e(29913),E=e(83736),_=e(6516)},83736:function(b,c,e){var n=e(43146),a=e(38390)},6516:function(b,c,e){var n=e(43146)},38390:function(b,c,e){var n=e(43146)}}]);
